{% extends "admin/base.html" %}
{% load i18n %}
{% block title %}
	{{ title }} | {% trans 'PILS' %}
{% endblock %}

{% block branding %} {{ block.super }} {% endblock %}

{% block nav-global %}{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumb">
    <a href="{% if user.is_superuser %}{% url 'admin:index' %} 
         {% elif user.is_staff %}{% trans '/teacher/' %} 
         {% else %}{% trans '/courses/' %}
         {% endif %}">{% trans 'Home' %}</a>
	&rsaquo; <a href="{% url 'courses:course_index' %}">
		{% trans 'Courses' %}
	</a>
	&rsaquo; <a href="/courses/{{ course_id }}/">
		{% trans 'Lectures' %}
	</a>
</div>
{% endblock %}

{{ title }}
{% block content %}
	<div id="content-main">
		<div class="module" id="changelist">
			{% if lecture_list %}
				{% block result_list %}
					<div class="results">
						<table id="result_list">
							<thead>
								<tr>
									<th scope="col"> 
									<div class="text">
										<a href="?o=1">
											Lectures
										</a>
									</div>
									<div class="clear">
									</div>
									</th>
								</tr>
							</thead>
							<tbody>
							{% for lecture in lecture_list %}
								<tr class="{% cycle 'row1' 'row2' %}">
									<td width="90%">
										<a href="/courses/{{ course_id }}/{{ lecture.id }}/">
											{{ lecture.lecture_text }}
										</a>
									</td>
									<td width="10%" align="center">
										<form action="{% url 'courses:editToggleLecture' lecture.course_id %}">
											<button type="submit" class="edit" name="lecture_id" value="{{ lecture.id }}">
												Edit
											</button>
										</form>
									</td>
								</tr>
								{% if lecture.editable %}
								<tr>
									<td colspan="2">
										<table>
											<form action="{% url 'courses:saveChangesLecture' lecture.course_id %}" method="post">
												<tr>
													<td width="10%" class="edit" align="center">
														Edit Lecture:
													</td>
													<td width="30%" align="center">
														{% csrf_token %}
														<input type="text" size="100%" name="lectureText" value="{{ lecture.lecture_text }}">
													</td>
													<td width="10%" class="edit" align="center">
														Edit Answer Time:
													</td>
													<td width="15%" align="center">
														{% csrf_token %}
														<input type="text" size="25%" name="answerTime" value="">
													</td>
													<td width="10%" class="edit" align="center">
														Edit Vote Time
													</td>
													<td width="15%" align="center">
														{% csrf_token %}
														<input type="text" size="25%" name="voteTime" value="">
													</td>
													<td width="10%" class="edit" align="center">
														<button type="submit" class="edit" name="lecture_id" value="{{ lecture.id }}">
															Save Changes
														</button>
													</td>
												</tr>
											</form>
										</table>
									</td>							
								</tr>
								{% endif %}
							{% endfor %}
							</tbody>
						</table>
					</div>
				{% endblock result_list %}
			{% else %}
				<p>No lectures are available.</p>
			{% endif %}
		</div>
	</div>
{% endblock %}